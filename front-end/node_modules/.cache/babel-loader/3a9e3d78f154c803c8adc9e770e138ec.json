{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/jim/Documents/Code/SoftEng Project/evcharge/TL20-28/front-end/src/ChooseCar.js\";\nimport React from 'react';\nimport $ from 'jquery';\nimport './MyVehicles.css';\n$.DataTable = require('datatables.net');\n\nclass ChooseCar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      vehicle: []\n    };\n  }\n\n  componentDidMount() {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-OBSERVATORY-AUTH': localStorage.getItem(\"token\")\n      }\n    };\n    fetch('//localhost:8765/evcharge/api/UserCars/' + localStorage.getItem(\"username\"), requestOptions).then(response => {\n      return response.json();\n    }).then(data => {\n      var initial = data;\n      this.setState({\n        vehicle: initial\n      });\n      var table = $(this.refs.main).DataTable({\n        // dom: '<\"data-table-wrapper\"t>',\n        data: data,\n        columns: [{\n          title: 'Brand',\n          width: \"15%\",\n          data: 'brand.name'\n        }, {\n          title: 'Type',\n          width: \"15%\",\n          data: 'type'\n        }, {\n          title: 'Model',\n          width: \"15%\",\n          data: 'model'\n        }, {\n          title: 'Release year',\n          width: \"15%\",\n          data: 'release_year'\n        }, {\n          title: 'Battery size',\n          width: \"15%\",\n          data: 'usable_battery_size'\n        }, {\n          title: 'Action',\n          width: \"25%\",\n          data: 'id',\n          'render': function (id) {\n            return '<a className=\"btk\" class=\"ChooseCarBtn\" id=\"' + id + '\" ><i type=\"button\">Choose</i></a>';\n          }\n        }],\n        ordering: false\n      });\n      $(this.refs.main).on(\"click\", \".ChooseCarBtn\", function (ev) {\n        data.forEach(function (item) {\n          if (item.id == ev.currentTarget.id) {\n            var value = parseFloat(item.usable_battery_size);\n            localStorage.setItem(\"UsableBatterySizeforcharge\", value);\n          }\n        });\n        localStorage.setItem(\"carid\", ev.currentTarget.id);\n        localStorage.setItem(\"chargingpointid\", \" \");\n        localStorage.setItem(\"energyproviderid\", \" \");\n        localStorage.setItem(\"startedon\", \" \");\n        localStorage.setItem(\"finishedon\", \" \");\n        localStorage.setItem(\"protocol\", \" \");\n        localStorage.setItem(\"payment\", \" \");\n        localStorage.setItem(\"cost\", \" \");\n        localStorage.setItem(\"energydelivered\", \" \");\n        window.location = \"//localhost:3000/Charge\";\n      });\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"html\", {\n      children: /*#__PURE__*/_jsxDEV(\"body\", {\n        className: \"stations-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n          charSet: \"UTF-8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"title\", {\n          children: \"Choose vehicle for session\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Choose vehicle for session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            ref: \"main\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ChooseCar;","map":{"version":3,"sources":["/home/jim/Documents/Code/SoftEng Project/evcharge/TL20-28/front-end/src/ChooseCar.js"],"names":["React","$","DataTable","require","ChooseCar","Component","constructor","props","state","data","vehicle","componentDidMount","requestOptions","method","headers","localStorage","getItem","fetch","then","response","json","initial","setState","table","refs","main","columns","title","width","id","ordering","on","ev","forEach","item","currentTarget","value","parseFloat","usable_battery_size","setItem","window","location","catch","error","console","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport $ from 'jquery';\nimport './MyVehicles.css';\n$.DataTable = require('datatables.net');\n\nclass ChooseCar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [], vehicle: []\n    };\n  }\n  componentDidMount() {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-OBSERVATORY-AUTH': localStorage.getItem(\"token\")\n      }\n    }\n    fetch('//localhost:8765/evcharge/api/UserCars/' + localStorage.getItem(\"username\"), requestOptions)\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        var initial = data;\n        this.setState({ vehicle: initial })\n        var table = $(this.refs.main).DataTable({\n          // dom: '<\"data-table-wrapper\"t>',\n          data: data,\n          columns: [\n            {\n              title: 'Brand',\n              width: \"15%\",\n              data: 'brand.name'\n            },\n            {\n              title: 'Type',\n              width: \"15%\",\n              data: 'type'\n            },\n            {\n              title: 'Model',\n              width: \"15%\",\n              data: 'model'\n            },\n            {\n              title: 'Release year',\n              width: \"15%\",\n              data: 'release_year'\n            },\n            {\n              title: 'Battery size',\n              width: \"15%\",\n              data: 'usable_battery_size'\n            },\n            {\n              title: 'Action',\n              width: \"25%\",\n              data: 'id',\n              'render': function (id) {\n                return (\n                  '<a className=\"btk\" class=\"ChooseCarBtn\" id=\"' + id + '\" ><i type=\"button\">Choose</i></a>'\n                )\n              }\n            }\n\n          ],\n          ordering: false\n        });\n\n        $(this.refs.main).on(\"click\", \".ChooseCarBtn\", function (ev) {\n          data.forEach(function (item) {\n            if (item.id == ev.currentTarget.id) {\n              var value = parseFloat(item.usable_battery_size);\n              localStorage.setItem(\"UsableBatterySizeforcharge\", value);\n            }\n          })\n          localStorage.setItem(\"carid\", ev.currentTarget.id);\n          localStorage.setItem(\"chargingpointid\", \" \");\n          localStorage.setItem(\"energyproviderid\", \" \");\n          localStorage.setItem(\"startedon\", \" \");\n          localStorage.setItem(\"finishedon\", \" \");\n          localStorage.setItem(\"protocol\", \" \");\n          localStorage.setItem(\"payment\", \" \");\n          localStorage.setItem(\"cost\", \" \");\n          localStorage.setItem(\"energydelivered\", \" \");\n          window.location = \"//localhost:3000/Charge\";\n        })\n      })\n      .catch(error => {\n        console.error(error);\n      })\n  }\n  render() {\n    return (\n      <html>\n        <body className=\"stations-body\">\n          <meta charSet=\"UTF-8\" />\n          <title>Choose vehicle for session</title>\n          <div>\n            <h2>Choose vehicle for session</h2>\n\n            <table ref=\"main\" />\n\n          </div>\n        </body>\n      </html>\n    )\n  }\n}\n\nexport default ChooseCar;"]},"metadata":{},"sourceType":"module"}